group 'uk.gov.bis.lite'
version '1.1'

apply plugin: 'java'
apply plugin: 'maven-publish'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
}

dependencies {
    compileOnly 'io.dropwizard:dropwizard-core:1.0.3'
    testCompile group: 'junit', name: 'junit', version: '4.11'
}

publishing {
  publications {
    mavenJava(MavenPublication) {
      from components.java
      artifacts {
        archives packageJavadoc
        archives packageSources
      }
    }
  }
}

task packageJavadoc(type: Jar) {
  from javadoc
  classifier = 'javadoc'
}

task packageSources(type: Jar, dependsOn: 'classes') {
  from sourceSets.main.allSource
  classifier = 'sources'
}

publishing {
  repositories {
    maven {
      name "snapshots"
      url "http://nexus.mgmt.int.licensing.service.trade.gov.uk/repository/maven-snapshots/"
    }
    maven {
      name "releases"
      url "http://nexus.mgmt.int.licensing.service.trade.gov.uk/repository/maven-releases/"
    }
  }
}
